(this.webpackJsonpminimal_pairs=this.webpackJsonpminimal_pairs||[]).push([[0],{23:function(e,t,i){},25:function(e,t,i){},26:function(e){e.exports=JSON.parse('{"words":{"\u0251\u02d0":{"\u0251\u02d0":{"clip":[0,1]},"barn":{"spelling":"barn","phonetic":"/b\u0251\u02d0n/","image":"img/\u0251/barn.jpg","clip":[1,2.35]},"heart":{"spelling":"heart","phonetic":"/h\u0251\u02d0t/","image":"img/\u0251/heart.jpg","clip":[2.35,3.65]},"marsh":{"spelling":"marsh","phonetic":"/m\u0251\u02d0\u222b/","image":"img/\u0251/marsh.jpg","clip":[3.65,5]},"park":{"spelling":"park","phonetic":"/p\u0251\u02d0k/","image":"img/\u0251/park.jpg","clip":[5,6.35]},"staff":{"spelling":"staff","phonetic":"/st\u0251\u02d0f/","image":"img/\u0251/staff.jpg","clip":[6.35,7.8]}},"i\u02d0":{"i\u02d0":{"clip":[7.8,9]},"beach":{"spelling":"beach","phonetic":"/bi\u02d0\u02a7/","image":"img/i/beach.jpg","clip":[9,10.25]},"cheek":{"spelling":"cheek","phonetic":"/\u02a7i\u02d0k/","image":"img/i/cheek.jpg","clip":[10.25,11.55]},"feast":{"spelling":"feast","phonetic":"/fi\u02d0st/","image":"img/i/feast.jpg","clip":[11.55,12.85]},"peeler":{"spelling":"peeler","phonetic":"/pi\u02d0l\u0259/","image":"img/i/peeler.jpg","clip":[12.85,14.1]},"sheep":{"spelling":"sheep","phonetic":"/\u222bi\u02d0p/","image":"img/i/sheep.jpg","clip":[14.1,15.45]},"sheet":{"spelling":"sheet","phonetic":"/\u222bi\u02d0t/","image":"img/i/sheet.jpg","clip":[15.45,16.65]},"teat":{"spelling":"teat","phonetic":"/ti\u02d0t/","image":"img/i/teat.jpg","clip":[16.65,17.7]}},"\u026a":{"\u026a":{"clip":[17.7,18.65]},"bitch":{"spelling":"bitch","phonetic":"/b\u026a\u02a7/","image":"img/\u026a/bitch.jpg","image_":"img/\u026a/bitch_.jpg","clip":[18.65,19.9]},"chick":{"spelling":"chick","phonetic":"/\u02a7\u026ak/","image":"img/\u026a/chick.jpg","clip":[19.9,20.95]},"fist":{"spelling":"fist","phonetic":"/f\u026ast/","image":"img/\u026a/fist.jpg","clip":[20.95,22.2]},"pillar":{"spelling":"pillar","phonetic":"/p\u026al\u0259/","image":"img/\u026a/pillar.jpg","clip":[22.2,23.35]},"ship":{"spelling":"ship","phonetic":"/\u222b\u026ap/","image":"img/\u026a/ship.jpg","clip":[23.35,24.5]},"shit":{"spelling":"shit","phonetic":"/\u222b\u026at/","image":"img/\u026a/shit_.png","clip":[24.5,25.7]},"tit":{"spelling":"tit","phonetic":"/t\u026at/","image":"img/\u026a/tit.jpg","image_":"img/\u026a/tit_.jpg","clip":[25.7,26.8]}},"\u028c":{"\u028c":{"clip":[26.8,27.7]},"bun":{"spelling":"bun","phonetic":"/b\u028cn/","image":"img/\u028c/bun.jpg","clip":[27.7,28.95]},"hut":{"spelling":"hut","phonetic":"/h\u028ct/","image":"img/\u028c/hut.jpg","clip":[28.95,30.1]},"mush":{"spelling":"mush","phonetic":"/m\u028c\u222b/","image":"img/\u028c/mush.jpg","clip":[30.1,31.15]},"puck":{"spelling":"puck","phonetic":"/p\u028ck/","image":"img/\u028c/puck.jpg","clip":[31.15,32.5]},"stuff":{"spelling":"stuff","phonetic":"/st\u028cf/","image":"img/\u028c/stuff.jpg","clip":[32.25,33.4]}}},"pairs":{"\u026ai":{"\u026a":"i\u02d0","bitch":"beach","chick":"cheek","fist":"feast","pillar":"peeler","ship":"sheep","shit":"sheet","tit":"teat"},"\u0251\u028c":{"\u0251\u02d0":"\u028c","barn":"bun","heart":"hut","marsh":"mush","park":"puck","staff":"stuff"}}}')},27:function(e,t,i){},28:function(e,t,i){"use strict";i.r(t);var n,c,s,a,r,l,o,p=i(1),u=i.n(p),h=i(17),m=i.n(h),j=(i(23),i(2)),g=i(0),b=Object(p.createContext)(),f=function(e){var t=e.children,i=Object(p.useState)("audio/pairs.mp3"),n=Object(j.a)(i,2),c=n[0],s=n[1],a=new Audio(c),r=b.Provider,l=function(){a.pause(),!1};return Object(g.jsx)(r,{value:{url:c,playClip:function(e){!function(e){var t=Object(j.a)(e,2),i=t[0],n=1e3*(t[1]-i);a.currentTime=i,setTimeout(l,n),a.play().then((function(e){!0})).catch((function(e){console.log("Audio.play() error:)",e)}))}(e)},setURL:s},children:t})},d=function(e){return Object(g.jsx)("h1",{children:"About page goes here"})},O=(i(25),function(e){var t=e.card,i=t.spelling,n=t.phonetic,c=t.clip,s=t.image,a=t.image_,r="card "+(e.role?"".concat(e.role," flipped"):""),l=e.taboo&&a||s,o=Object(p.useContext)(b);return Object(g.jsx)("div",{className:"space",ref:e.refer,children:Object(g.jsxs)("div",{className:r,onMouseDown:function(){return o.playClip(c)},children:[Object(g.jsx)("img",{className:"back",src:"img/icons/sound.svg",alt:"play icon"}),Object(g.jsxs)("div",{className:"front",children:[Object(g.jsx)("img",{src:l,alt:i}),Object(g.jsx)("p",{className:"phonetic",children:n}),Object(g.jsx)("p",{className:"spelling",children:i})]})]},i)})}),v=function(e){var t=Object(p.useContext)(b),i=e.phoneme,n=e.index,c=e.clip,s=e.played,a=function(e,t){return Object(g.jsx)(O,{card:e},t)},r=function(){var e=s.map(a);return Object(g.jsx)("ul",{children:e})}(),l="phoneme-".concat(n+1);return Object(g.jsxs)("div",{className:l,children:[r,Object(g.jsx)("div",{className:"pocket"}),Object(g.jsxs)("button",{className:"play-phoneme",onClick:function(){return t.playClip(c)},children:["/",i,"/"]})]},l)},x=i(6),k=i(7),y=(i(18),i(15),function e(t,i,n){var c,s,a=0;if(Array.isArray(i))return a=i.reduce((function(i,c){return i+=e(t,c,n)}),0);do{(s=!((c="function"===typeof i?t.findIndex(i):t.indexOf(i))<0))&&(t.splice(c,1),a+=1)}while(n&&s);return a}),M=i(26),C=Object.keys(M.pairs);function N(e){var t,i;n!==e&&(C.indexOf(e)<0&&(e=C[0]),i=M.pairs[e],c=Object.entries(i),s=c.shift(),a=s.map(A),function(e){for(var t=e.length;t;){var i=Math.floor(Math.random()*t);t-=1;var n=[e[i],e[t]];e[t]=n[0],e[i]=n[1]}}(c),c.length-1,0,t={},Object(k.a)(t,s[0],[]),Object(k.a)(t,s[1],[]),r=t,n=e)}function w(e,t){return M.words[e][t]}function A(e){var t=Object(x.a)({},M.words[e][e]);return t.phoneme=e,t}N("\u0251\u028c");var L=function(e){var t,i=Object(p.useContext)(b),n=Object(p.useRef)(),u=Object(p.useRef)(),h=Object(p.useState)(0),m=Object(j.a)(h,2),f=m[0],d=m[1],x=function(){var e=s,t=Object(j.a)(e,2),i=t[0],n=t[1];l&&r[i].indexOf(l)<0&&(r[i].push(l),r[n].push(o));var p=c.shift();return c.push(p),l=w(i,p[0]),o=w(n,p[1]),y(r[i],l),y(r[n],o),{phonemes:a,word1:l,word2:o,played:r}}(),k=x.phonemes,M=x.word1,C=x.word2,N=x.played,A=function(){n.current.className="space",d(f+1)},L=function(){var e;return t=!!Math.floor(2*Math.random()),e=t?[C,M]:[M,C],["decoy","cue"].map((function(t,i){var c=e[i],s="cue"===t?n:u;return Object(g.jsx)(O,{card:c,role:t,taboo:!1,refer:s})}))}(),S=Object(j.a)(L,2),T=S[0],F=S[1],_=k.map((function(e,t){var i=e.phoneme,n=e.clip,c=N[i];return Object(g.jsx)(v,{phoneme:i,index:t,clip:n,played:c})})),H=Object(j.a)(_,2),P=H[0],R=H[1],E=F.props.card.clip;return i.playClip(E),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"phonemes",onClick:function(e){var i=e.target;if("pocket"===i.className){var c=i.closest("[class|=phoneme").className;t===("phoneme-1"===c)?function(e){n.current.classList.add("correct",e),setTimeout(A,2e3)}(c):console.log("wrong")}},children:[P,R,Object(g.jsx)("p",{className:"rule",children:"Tap or drag to here"})]}),Object(g.jsxs)("div",{className:"pairs",children:[T,F]})]})},S=function(e){return Object(g.jsx)("h1",{children:"Contact page goes here"})},T=i(11),F=i(12),_=i(3),H=i(14),P=i(13),R={About:d,Activity:L,Contact:S,Index:function(e){Object(H.a)(i,e);var t=Object(P.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).itemClicked=n.itemClicked.bind(Object(_.a)(n)),n}return Object(F.a)(i,[{key:"getList",value:function(){var e=this,t=C.map((function(t){return Object(g.jsx)("li",{onClick:function(){return e.itemClicked(t)},children:t},t)}));return Object(g.jsx)("ul",{id:"index",children:t})}},{key:"itemClicked",value:function(e){N(e),this.props.startActivity()}},{key:"render",value:function(){return this.getList()}}]),i}(p.Component),Preferences:function(e){return Object(g.jsx)("h1",{children:"Preferences page goes here"})}},E=(i(27),function(){return Object(g.jsxs)("g",{className:"menu",children:[Object(g.jsx)("path",{d:" M5,20 L5,80 H95 L95,20 z",opacity:"0"}),Object(g.jsx)("path",{d:" M15,10 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"}),Object(g.jsx)("path",{d:" M15,40 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"}),Object(g.jsx)("path",{d:" M15,70 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"})]})}),I=function(e){var t=e.itemSelected;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("li",{className:"unselectable",onClick:function(){return t("Index")},children:"Select minimal pair"},"index"),Object(g.jsx)("li",{className:"unselectable",onClick:function(){return t("Activity")},children:"Return to activity"},"activity"),Object(g.jsx)("li",{className:"unselectable",onClick:function(){return t("Preferences")},children:"Preferences"},"preferencs"),Object(g.jsx)("li",{className:"unselectable",onClick:function(){return t("About")},children:"About this activity"},"about"),Object(g.jsx)("li",{className:"unselectable",onClick:function(){return t("Contact")},children:"Contact us"},"contact")]})},z=function(e){var t=e.closeMenu,i=e.selectFromMenu,n=e.pane,c=e.className;return Object(g.jsx)("ul",{id:"items",className:c,ref:n,children:Object(g.jsx)(I,{itemSelected:function(e){t(),i(e)}})})},B=function(e){Object(H.a)(i,e);var t=Object(P.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).pane=u.a.createRef(),n.callback=e.callback,n.openMenu=n.openMenu.bind(Object(_.a)(n)),n.closeMenu=n.closeMenu.bind(Object(_.a)(n)),n.state={open:!0},n.openMenu(),setTimeout(n.closeMenu,1e3),n}return Object(F.a)(i,[{key:"openMenu",value:function(e){if(!this.ignoreOpen){e&&this.toggleMenu(!0);var t=this.closeMenu;document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)}}},{key:"closeMenu",value:function(e){var t=this;if(e&&"touchstart"===e.type)this.timeout=setTimeout((function(){return t.timeout=0}),300);else if(this.timeout)return;var i=this.pane.current;if(!e||i&&!i.contains(e.target)){this.toggleMenu(!1),this.ignoreOpen=!0,setTimeout((function(){return t.ignoreOpen=!1}),100);var n=this.closeMenu;document.body.removeEventListener("touchstart",n,!0),document.body.removeEventListener("mousedown",n,!0)}}},{key:"toggleMenu",value:function(e){var t=!this.state.open;this.setState({open:t})}},{key:"render",value:function(){var e=this.state.open?"open":"";return Object(g.jsxs)("div",{id:"menu",children:[Object(g.jsx)(z,Object(x.a)(Object(x.a)({},this.props),{},{className:e,pane:this.pane,closeMenu:this.closeMenu})),Object(g.jsx)("svg",{id:"openMenu",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",onClick:this.openMenu,children:Object(g.jsx)(E,{})})]})}}]),i}(p.Component),J=function(e){var t=Object(p.useState)("Activity"),i=Object(j.a)(t,2),n=i[0],c=i[1],s=function(e){e||(e="Activity"),c(e)},a=R[n];return Object(g.jsx)(f,{children:Object(g.jsxs)("main",{className:"split left--handed",children:[Object(g.jsx)(a,{startActivity:s}),Object(g.jsx)(B,{selectFromMenu:s})]})})},D=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,29)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;i(e),n(e),c(e),s(e),a(e)}))};m.a.render(Object(g.jsx)(J,{}),document.getElementById("root")),D()}},[[28,1,2]]]);
//# sourceMappingURL=main.197aaf2b.chunk.js.map