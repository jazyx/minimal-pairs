(this.webpackJsonpminimal_pairs=this.webpackJsonpminimal_pairs||[]).push([[0],{23:function(e,t,i){},25:function(e,t,i){},26:function(e){e.exports=JSON.parse('{"words":{"\u0251\u02d0":{"url":"\u0251.mp3","\u0251\u02d0":{"clip":[0,1]},"barn":{"spelling":"barn","phonetic":"/b\u0251\u02d0n/","image":"img/\u0251/barn.jpg","clip":[1.1,2.25]},"heart":{"spelling":"heart","phonetic":"/h\u0251\u02d0t/","image":"img/\u0251/heart.jpg","clip":[2.45,3.55]},"marsh":{"spelling":"marsh","phonetic":"/m\u0251\u02d0\u222b/","image":"img/\u0251/marsh.jpg","clip":[3.75,4.9]},"park":{"spelling":"park","phonetic":"/p\u0251\u02d0k/","image":"img/\u0251/park.jpg","clip":[5.1,6.25]},"staff":{"spelling":"staff","phonetic":"/st\u0251\u02d0f/","image":"img/\u0251/staff.jpg","clip":[6.45,7.7]}},"i\u02d0":{"url":"i.mp3","i\u02d0":{"clip":[0,0.85]},"beach":{"spelling":"beach","phonetic":"/bi\u02d0\u02a7/","image":"img/i/beach.jpg","clip":[1,2.15]},"cheek":{"spelling":"cheek","phonetic":"/\u02a7i\u02d0k/","image":"img/i/cheek.jpg","clip":[2.3,3.45]},"feast":{"spelling":"feast","phonetic":"/fi\u02d0st/","image":"img/i/feast.jpg","clip":[3.6,4.75]},"peeler":{"spelling":"peeler","phonetic":"/pi\u02d0l\u0259/","image":"img/i/peeler.jpg","clip":[4.85,6]},"sheep":{"spelling":"sheep","phonetic":"/\u222bi\u02d0p/","image":"img/i/sheep.jpg","clip":[6.15,7.3]},"sheet":{"spelling":"sheet","phonetic":"/\u222bi\u02d0t/","image":"img/i/sheet.jpg","clip":[7.45,8.55]},"teat":{"spelling":"teat","phonetic":"/ti\u02d0t/","image":"img/i/teat.jpg","clip":[8.7,9.482]}},"\u026a":{"url":"\u026a.mp3","\u026a":{"clip":[0,0.65]},"bitch":{"spelling":"bitch","phonetic":"/b\u026a\u02a7/","image":"img/\u026a/bitch.jpg","image_":"img/\u026a/bitch_.jpg","clip":[0.8,1.85]},"chick":{"spelling":"chick","phonetic":"/\u02a7\u026ak/","image":"img/\u026a/chick.jpg","clip":[2,2.95]},"fist":{"spelling":"fist","phonetic":"/f\u026ast/","image":"img/\u026a/fist.jpg","clip":[3.1,4.2]},"pillar":{"spelling":"pillar","phonetic":"/p\u026al\u0259/","image":"img/\u026a/pillar.jpg","clip":[4.35,5.35]},"ship":{"spelling":"ship","phonetic":"/\u222b\u026ap/","image":"img/\u026a/ship.jpg","clip":[5.5,6.5]},"shit":{"spelling":"shit","phonetic":"/\u222b\u026at/","image":"img/\u026a/shit_.png","clip":[6.65,7.75]},"tit":{"spelling":"tit","phonetic":"/t\u026at/","image":"img/\u026a/tit.jpg","image_":"img/\u026a/tit_.jpg","clip":[7.859,8.683]}},"\u028c":{"url":"\u028c.mp3","\u028c":{"clip":[0,0.65]},"bun":{"spelling":"bun","phonetic":"/b\u028cn/","image":"img/\u028c/bun.jpg","clip":[0.8,1.85]},"hut":{"spelling":"hut","phonetic":"/h\u028ct/","image":"img/\u028c/hut.jpg","clip":[2,3.05]},"mush":{"spelling":"mush","phonetic":"/m\u028c\u222b/","image":"img/\u028c/mush.jpg","clip":[3.2,4.1]},"puck":{"spelling":"puck","phonetic":"/p\u028ck/","image":"img/\u028c/puck.jpg","clip":[4.25,5.25]},"stuff":{"spelling":"stuff","phonetic":"/st\u028cf/","image":"img/\u028c/stuff.jpg","clip":[5.3,6.415]}}},"pairs":{"\u026ai":{"\u026a":"i\u02d0","ship":"sheep","bitch":"beach","chick":"cheek","fist":"feast","pillar":"peeler","shit":"sheet","tit":"teat"},"\u0251\u028c":{"\u0251\u02d0":"\u028c","heart":"hut","barn":"bun","marsh":"mush","park":"puck","staff":"stuff"}}}')},27:function(e,t,i){},28:function(e,t,i){"use strict";i.r(t);var n,c,s,a,r,l,o,u=i(1),p=i.n(u),h=i(17),d=i.n(h),m=(i(23),i(2)),j=i(0),f=Object(u.createContext)(),g=function(e){var t=e.children,i=new Audio,n=f.Provider,c=function(){i.pause()};return Object(j.jsx)(n,{value:{playClip:function(e,t){!function(e,t){i.src!==e&&(i.src=e);var n=Object(m.a)(t,2),s=n[0],a=1e3*(n[1]-s);i.currentTime=s,setTimeout(c,a),i.play().then((function(e){})).catch((function(e){console.log("Audio.play() error:)",e)}))}(e,t)}},children:t})},b=function(e){return Object(j.jsx)("h1",{children:"About page goes here"})},v=(i(25),Object(u.forwardRef)((function(e,t){var i=e.card,n=i.spelling,c=i.phonetic,s=i.clip,a=i.url,r=i.image,l=i.image_,o="card"+(e.role?" flipped":""),p="card-holder"+(e.role?" space":""),h=e.taboo&&l||r,d=Object(u.useContext)(f);return Object(j.jsx)("div",{className:p,ref:t,children:Object(j.jsxs)("div",{className:o,onMouseDown:function(){return d.playClip(a,s)},children:[Object(j.jsx)("img",{className:"back",src:"img/icons/sound.svg",alt:"play icon"}),Object(j.jsxs)("div",{className:"front",children:[Object(j.jsx)("img",{src:h,alt:n}),Object(j.jsx)("p",{className:"phonetic",children:c}),Object(j.jsx)("p",{className:"spelling",children:n})]})]},n)})}))),O=Object(u.forwardRef)((function(e,t){var i=Object(u.useContext)(f),n=e.index,c=e.cardData,s=e.phonemeData,a=e.role,r=e.cardRef,l=e.played,o=s.phoneme,p=s.url,h=s.clip,d=Object(j.jsx)(v,{card:c,role:a,ref:r}),m=l.map((function(e,t){var i=e.spelling;return Object(j.jsx)("li",{children:Object(j.jsx)(v,{card:e},i)})})),g="phoneme-".concat(n," ").concat(a);return Object(j.jsxs)("div",{className:g,ref:t,children:[Object(j.jsx)("ul",{children:m}),d," ",Object(j.jsxs)("div",{className:"pocket unselectable",children:["/",o,"/",Object(j.jsx)("button",{className:"play-phoneme",onClick:function(){return i.playClip(p,h)}})]},"pocket")]},a)})),k=i(5),x=i(7),y=(i(18),i(15),function e(t,i,n){var c,s,a=0;if(Array.isArray(i))return a=i.reduce((function(i,c){return i+=e(t,c,n)}),0);do{(s=!((c="function"===typeof i?t.findIndex(i):t.indexOf(i))<0))&&(t.splice(c,1),a+=1)}while(n&&s);return a}),L=i(26),C=Object.keys(L.pairs),M="audio/";function w(e){var t,i;n!==e&&(C.indexOf(e)<0&&(e=C[0]),i=L.pairs[e],c=Object.entries(i),s=c.shift(),a=s.map(T),function(e){for(var t=e.length;t;){var i=Math.floor(Math.random()*t);t-=1;var n=[e[i],e[t]];e[t]=n[0],e[i]=n[1]}}(c),l=o=void 0,t={},Object(x.a)(t,s[0],[]),Object(x.a)(t,s[1],[]),r=t,n=e)}function N(e,t){var i=L.words[e],n=Object(k.a)({},i[t]);return n.url=M+i.url,n}function T(e){var t=L.words[e],i=Object(k.a)({},t[e]);return i.url=M+t.url,i.phoneme=e,i}w("\u0251\u028c");var A=function(){var e=[0,1,0,1],t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.max(0,Math.min(1,2*Math.random()+e));return Math.floor(t)};return function(){var i;switch(e.reduce((function(e,t){return e+t}),0)){case 0:i=1;break;case 1:i=t(.5);break;case 3:i=t(-.5);break;case 4:i=0;break;default:i=t()}return e.shift(),e.push(i),i}}(),R=function(e){var t,i,n,p,h,d,g,b,v=Object(u.useContext)(f),k=Object(u.useRef)(),x=Object(u.useRef)(),L=Object(u.useRef)(),C=Object(u.useRef)(),M=Object(u.useState)(0),w=Object(m.a)(M,2),T=w[0],R=w[1],S=function(){var e=s,t=Object(m.a)(e,2),i=t[0],n=t[1];l&&r[i].map((function(e){return e.spelling})).indexOf(l.spelling)<0&&(r[i].push(l),r[n].push(o));var u=c.shift();return c.push(u),l=N(i,u[0]),o=N(n,u[1]),y(r[i],l),y(r[n],o),{phonemes:a,word1:l,word2:o,played:r}}(),_=S.phonemes,E=S.word1,F=S.word2,H=S.played,P=!1,D=function(){n.classList.remove("active","inside-pocket"),d.classList.remove("reveal","active","inside-pocket"),n.classList.add("deal"),d.classList.add("deal"),R(T+1)},I=function(){d.classList.add("active","inside-pocket"),setTimeout(D,1e3)},z=function(){v.playClip(p,h),setTimeout(I,1e3)},B=function(){d.classList.add("reveal"),setTimeout(z,200)},J=function(){n.classList.remove("outside-pocket"),n.classList.add("inside-pocket"),setTimeout(B,200)},Y=function(){n.classList.add("outside-pocket"),setTimeout(J,200)},q=function(){var e=A(),n=_.map((function(n,c){var s=c===e?["decoy",x]:["cue",k],a=Object(m.a)(s,2),r=a[0],l=a[1],o=c?[F,C]:[E,L],u=Object(m.a)(o,2),d=u[0],f=u[1],g=H[n.phoneme];return c!==e?(t=d.url,i=d.clip):(p=d.url,h=d.clip),Object(j.jsx)(O,{index:c,cardData:d,phonemeData:n,role:r,cardRef:l,ref:f,played:g})}));return e&&n.push(n.shift()),n}(),G=Object(m.a)(q,2),K=G[0],Q=G[1];return Object(u.useEffect)((function(){n=k.current,d=x.current,g=L.current,b=C.current,d.classList.remove("deal"),setTimeout((function(){n.classList.remove("deal"),v.playClip(t,i)}),300)})),Object(j.jsxs)("div",{className:"activity",onClick:function(e){var c=e.target;c.classList.contains("pocket")&&(c.closest("[class|=phoneme").classList.contains("cue")?P||(n.classList.add("active"),v.playClip(t,i),setTimeout(Y,2e3)):P||(P=!0,g.classList.add("wrong"),b.classList.add("wrong"),n.classList.add("active","outside-pocket"),setTimeout((function(){d.classList.add("active","reveal","outside-pocket")}),1e3)))},children:[K,Q,Object(j.jsx)("p",{className:"rule",children:"Tap or drag to here"}),Object(j.jsx)("button",{className:"done",onClick:function(){g.classList.remove("wrong"),b.classList.remove("wrong"),n.classList.remove("outside-pocket"),d.classList.remove("outside-pocket"),n.classList.add("inside-pocket"),d.classList.add("inside-pocket"),setTimeout(D,1e3)},children:"\u27a4"})]})},S=function(e){return Object(j.jsx)("h1",{children:"Contact page goes here"})},_=i(11),E=i(12),F=i(3),H=i(14),P=i(13),D={About:b,Activity:R,Contact:S,Index:function(e){Object(H.a)(i,e);var t=Object(P.a)(i);function i(e){var n;return Object(_.a)(this,i),(n=t.call(this,e)).itemClicked=n.itemClicked.bind(Object(F.a)(n)),n}return Object(E.a)(i,[{key:"getList",value:function(){var e=this,t=C.map((function(t){return Object(j.jsx)("li",{onClick:function(){return e.itemClicked(t)},children:t},t)}));return Object(j.jsx)("ul",{id:"index",children:t})}},{key:"itemClicked",value:function(e){w(e),this.props.startActivity()}},{key:"render",value:function(){return this.getList()}}]),i}(u.Component),Preferences:function(e){return Object(j.jsx)("h1",{children:"Preferences page goes here"})}},I=(i(27),function(){return Object(j.jsxs)("g",{className:"menu",children:[Object(j.jsx)("path",{d:" M5,20 L5,80 H95 L95,20 z",opacity:"0"}),Object(j.jsx)("path",{d:" M15,10 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"}),Object(j.jsx)("path",{d:" M15,40 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"}),Object(j.jsx)("path",{d:" M15,70 H85 a 10 10 180 0 1 0 20 H15 a 10 10 180 0 1 0 -20 z"})]})}),z=function(e){var t=e.itemSelected;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"unselectable",onClick:function(){return t("Index")},children:"Select minimal pair"},"index"),Object(j.jsx)("li",{className:"unselectable",onClick:function(){return t("Activity")},children:"Return to activity"},"activity"),Object(j.jsx)("li",{className:"unselectable",onClick:function(){return t("Preferences")},children:"Preferences"},"preferencs"),Object(j.jsx)("li",{className:"unselectable",onClick:function(){return t("About")},children:"About this activity"},"about"),Object(j.jsx)("li",{className:"unselectable",onClick:function(){return t("Contact")},children:"Contact us"},"contact")]})},B=function(e){var t=e.closeMenu,i=e.selectFromMenu,n=e.pane,c=e.className;return Object(j.jsx)("ul",{id:"items",className:c,ref:n,children:Object(j.jsx)(z,{itemSelected:function(e){t(),i(e)}})})},J=function(e){Object(H.a)(i,e);var t=Object(P.a)(i);function i(e){var n;return Object(_.a)(this,i),(n=t.call(this,e)).pane=p.a.createRef(),n.callback=e.callback,n.openMenu=n.openMenu.bind(Object(F.a)(n)),n.closeMenu=n.closeMenu.bind(Object(F.a)(n)),n.state={open:!0},n.openMenu(),setTimeout(n.closeMenu,1e3),n}return Object(E.a)(i,[{key:"openMenu",value:function(e){if(!this.ignoreOpen){e&&this.toggleMenu(!0);var t=this.closeMenu;document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)}}},{key:"closeMenu",value:function(e){var t=this;if(e&&"touchstart"===e.type)this.timeout=setTimeout((function(){return t.timeout=0}),300);else if(this.timeout)return;var i=this.pane.current;if(!e||i&&!i.contains(e.target)){this.toggleMenu(!1),this.ignoreOpen=!0,setTimeout((function(){return t.ignoreOpen=!1}),100);var n=this.closeMenu;document.body.removeEventListener("touchstart",n,!0),document.body.removeEventListener("mousedown",n,!0)}}},{key:"toggleMenu",value:function(e){var t=!this.state.open;this.setState({open:t})}},{key:"render",value:function(){var e=this.state.open?"open":"";return Object(j.jsxs)("div",{id:"menu",children:[Object(j.jsx)(B,Object(k.a)(Object(k.a)({},this.props),{},{className:e,pane:this.pane,closeMenu:this.closeMenu})),Object(j.jsx)("svg",{id:"openMenu",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",onClick:this.openMenu,children:Object(j.jsx)(I,{})})]})}}]),i}(u.Component),Y=function(e){var t=Object(u.useState)("Activity"),i=Object(m.a)(t,2),n=i[0],c=i[1],s=function(e){e||(e="Activity"),c(e)},a=D[n];return Object(j.jsx)(g,{children:Object(j.jsxs)("main",{className:"split left--handed show--phonetic",children:[Object(j.jsx)(a,{startActivity:s}),Object(j.jsx)(J,{selectFromMenu:s})]})})},q=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,29)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;i(e),n(e),c(e),s(e),a(e)}))};d.a.render(Object(j.jsx)(Y,{}),document.getElementById("root")),window.addEventListener("load",(function(){setTimeout((function(){window.scrollTo(0,1)}),0)})),q()}},[[28,1,2]]]);
//# sourceMappingURL=main.a60ea567.chunk.js.map